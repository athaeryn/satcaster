#! /usr/bin/env python3

import sys
import time

from PIL import Image

from vec3 import vec3

from lib.camera import Camera
from lib.sphere import Sphere


def render(w, h, camera, objects):
    image = Image.new("1", (w, h))
    # output = []
    for y in range(h):
        for x in range (w):
            image.putpixel((x, y), 0)
            # output.append(0)
    return image


if __name__ == "__main__":
    s = Sphere(vec3(0, 0, -10))
    cam = Camera()
    cam.lookat(s.pos)

    print(str(cam), file=sys.stderr)
    print(str(s), file=sys.stderr)

    frame = render(500, 500, cam, [s])

    frame.save("./renders/" + str(int(time.time())) + ".bmp")
    # print("".join([str(x) for x in frame]))
